sudo: required
dist: trusty
language: python
python:
    - 2.7
    - 3.4
    - 3.5

install:
    - pip install -r dev_requirements.txt

script:
    - python setup.py test
    - python setup.py sdist bdist bdist_wheel

notifications:
    email:
        on_success: never
        on_failure: never

deploy:
    provider: pypi
    user: wesyoung
    password:
        secure: "Zm7EBWqjKB2NoR6LwD1fPOfVS7QlXU7CGm/+ND9NS/+V+rU20Qp80ubQ8o9ZIsPu6wN/pIPTiB2Uud3i4Q/34ZAxQVB+H9e0abvkylPzE+62OKASDXE0tPZJEa2FbYmn9MbedgypoykGE8CDik6n0Gy2TLjq0oRRxBMQj5ehKaY="
    on:
        branch: master
        tags: true
        condition: $TRAVIS_PYTHON_VERSION = "3.5"
