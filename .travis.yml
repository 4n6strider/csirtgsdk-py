sudo: required
dist: trusty
language: python

python:
  - 2.7
  - 3.4
  - 3.5

install:
  - pip install -r dev_requirements.txt

script:
  - python setup.py test
  - python setup.py sdist bdist bdist_wheel

notifications:
  email:
    on_success: never
    on_failure: never

deploy:
  provider: pypi
  user: wesyoung
  password:
    secure: fyvNbZKHZWD3tX6xsv79Tqymuhct+97+Trq14S1PpSvcxAO5V9JUjdLHyVc1wEVYdDmke2zMKNbxWD/MVZb9TmzGPa8ysIbe8Ox/HfRJmmg0HPBfbyOKz4ND1kvHP9M1e04LyAzOtYFRiNEj/5KsIj4DgDjO+a/MxSo78DqlJ3w=
  on:
    branch: master
    tags: true
    condition: $TRAVIS_PYTHON_VERSION = "3.5"
